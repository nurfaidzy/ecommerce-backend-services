# Ecommerce Backend Project Documentation

## Project Overview

This project is a simple ecommerce backend designed as a portfolio piece. It uses **NestJS microservices architecture** organized in a **monorepo** structure, focusing on managing **categories**, **items (products)**, and **slugs** for SEO-friendly URLs. The backend interfaces with a Next.js frontend.

---

## Architecture Overview

### Microservices in Monorepo

- **API Gateway:** Main entrypoint that handles client requests, performs routing, and acts as a facade over internal microservices.
- **Category Service:** Responsible for CRUD operations on product categories; manages category names and slugs.
- **Item Service:** Manages products/items, storing details, slugs, and category associations.
- **Shared libs:** Contains reusable code such as DTOs, utilities (e.g., slug generation).

### Communication

- REST APIs between the API Gateway and microservices.
- Each service independently deployed but within same monorepo codebase.

### Folder Structure

```
/apps
  /api-gateway
  /category-service
  /item-service
/libs
  /common
  /dto
```

---

## Key Concepts

### Slug

- A slug is a **human-readable, URL-friendly string** derived from names/titles (e.g., “wireless-headphones”).
- Slugs improve URL readability, enhance SEO, and enable cleaner URLs compared to IDs.
- Generated by converting strings to lowercase, replacing spaces with hyphens, and removing special characters.

---

## Database Schema

### Category Table

| Column     | Type      | Description              |
| ---------- | --------- | ------------------------ |
| id         | UUID      | Primary key              |
| name       | VARCHAR   | Category name            |
| slug       | VARCHAR   | URL-friendly unique slug |
| created_at | TIMESTAMP | Creation timestamp       |
| updated_at | TIMESTAMP | Last update timestamp    |

### Item Table

| Column      | Type      | Description                      |
| ----------- | --------- | -------------------------------- |
| id          | UUID      | Primary key                      |
| name        | VARCHAR   | Item/product name                |
| slug        | VARCHAR   | URL-friendly unique slug         |
| description | TEXT      | Item description (optional)      |
| price       | DECIMAL   | Product price                    |
| category_id | UUID      | Foreign key referencing category |
| created_at  | TIMESTAMP | Creation timestamp               |
| updated_at  | TIMESTAMP | Last update timestamp            |

**Relations:**

- One category may have many items (Many-to-One relationship).

---

## Slug Generation Logic

- Convert name to lowercase.
- Replace spaces/special characters with hyphens.
- Remove any non-alphanumeric characters except hyphens.
- Ensure uniqueness by appending numeric suffixes if duplicates occur.

---

## Benefits of This Architecture

- Modular, clean separation of concerns.
- Demonstrates principles of microservices and monorepos.
- Easy to maintain and extend.
- Provides a professional-level portfolio example with real-world backend concepts.

---

## Next Steps & Recommendations

- Implement each microservice with NestJS modules, controllers, and services.
- Use shared DTOs in `/libs` for data consistency.
- Implement slug generation helper in shared utils.
- Setup PostgreSQL (or SQLite for simplicity) for data persistence.
- Develop swagger or other API documentation.
- Connect Next.js frontend to the API Gateway consuming REST endpoints.

---

This documentation serves as a blueprint during development and for communicating the backend design structure when sharing your portfolio.